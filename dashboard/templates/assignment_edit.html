<!DOCTYPE html>
<html lang="ko">

<head>
    <title>ë°°ì • ìˆ˜ì •</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <style>
        body {
            display: flex;
        }

        .sidebar {
            width: 220px;
            background-color: #343a40;
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .sidebar a {
            color: #ffffff;
            text-decoration: none;
            display: block;
            margin: 10px 0;
        }

        .sidebar a:hover {
            color: #0dcaf0;
        }

        .content {
            flex-grow: 1;
            padding: 30px;
        }

        .form-container {
            max-width: 600px;
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <h4>ğŸ“Š ëŒ€ì‹œë³´ë“œ</h4>
        <a href="/">ì „ì²´ ìš”ì•½</a>
        <a href="/maintenance">ğŸ›  ìœ ì§€ë³´ìˆ˜</a>
        <a href="/ongoing">â³ ì§„í–‰ì¤‘</a>
        <a href="/assignment">ğŸ‘¥ ì¸ì›ë³„ ë³´ê¸°</a>
        <a href="/assignment/add">â• í”„ë¡œì íŠ¸ ë°°ì •</a>
        <hr>
        <h6>ê´€ë¦¬</h6>
        <a href="/departments">ğŸ¢ ë¶€ì„œ ê´€ë¦¬</a>
        <a href="/employees">ğŸ‘¤ ì‚¬ì› ê´€ë¦¬</a>
        <a href="/projects">ğŸ“ í”„ë¡œì íŠ¸ ê´€ë¦¬</a>
    </div>

    <div class="content">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>ë°°ì • ìˆ˜ì •</h2>
            <a href="{{ url_for('assignment_detail', project_id=assignment_info.iloc[0]['project_id']) }}"
                class="btn btn-secondary">â† ìƒì„¸ í™”ë©´ìœ¼ë¡œ</a>
        </div>

        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="mb-3">
            {% for category, message in messages %}
            <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        <div class="form-container">
            <form method="POST">
                <div class="mb-3">
                    <label for="employee_name" class="form-label">ì‚¬ì›ëª…</label>
                    <input type="text" class="form-control" id="employee_name"
                        value="{{ assignment_info.iloc[0]['employee_name'] }}" readonly>
                </div>

                <div class="mb-3">
                    <label for="project_name" class="form-label">í”„ë¡œì íŠ¸ëª…</label>
                    <input type="text" class="form-control" id="project_name"
                        value="{{ assignment_info.iloc[0]['project_name'] }}" readonly>
                </div>

                <div class="mb-3">
                    <label for="start_date" class="form-label">ë°°ì • ì‹œì‘ì¼</label>
                    <input type="date" class="form-control" id="start_date" name="start_date"
                        value="{{ assignment_info.iloc[0]['start_date'] }}" required>
                </div>

                <div class="mb-3">
                    <label for="end_date" class="form-label">ë°°ì • ì¢…ë£Œì¼</label>
                    <input type="date" class="form-control" id="end_date" name="end_date"
                        value="{{ assignment_info.iloc[0]['end_date'] }}" required>
                </div>

                <div class="mb-3">
                    <label for="role" class="form-label">ì—­í• </label>
                    <input type="text" class="form-control" id="role" name="role"
                        value="{{ assignment_info.iloc[0]['role'] if assignment_info.iloc[0]['role'] else '' }}"
                        placeholder="í”„ë¡œì íŠ¸ì—ì„œì˜ ì—­í• ì„ ì…ë ¥í•˜ì„¸ìš”">
                </div>

                <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                    <a href="{{ url_for('assignment_detail', project_id=assignment_info.iloc[0]['project_id']) }}"
                        class="btn btn-secondary me-md-2">ì·¨ì†Œ</a>
                    <button type="submit" class="btn btn-primary">ìˆ˜ì •</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>